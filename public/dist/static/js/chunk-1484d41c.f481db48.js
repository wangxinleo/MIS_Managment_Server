/*!
 *  基于vue构建  
 *  copyright: wangxinleo wangxin.leo@outlook.com 
 *  time: 2020-6-13 13:39:43
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1484d41c"],{5001:function(e,t,o){},"8a69":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"MISmobile-container"},[o("el-row",{attrs:{gutter:15}},[o("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[o("el-card",[o("mobile-form")],1)],1)],1)],1)},n=[],a=o("c183"),i={name:"MiSmobile",components:{mobileForm:a["default"]}},l=i,m=o("2877"),u=Object(m["a"])(l,r,n,!1,null,null,null);t["default"]=u.exports},a935:function(e,t,o){"use strict";o.r(t),o.d(t,"addMISmobileForm",(function(){return n})),o.d(t,"updateMISmobileForm",(function(){return a})),o.d(t,"deletePhonesData",(function(){return i}));var r=o("b775");function n(e){return Object(r["default"])({url:"/MIS/addMISmobileForm",method:"post",data:e})}function a(e){return Object(r["default"])({url:"/MIS/updateMISmobileForm",method:"post",data:e})}function i(e){return Object(r["default"])({url:"/MIS/deletePhonesData",method:"post",data:{id:e}})}},c183:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mobileForm"},[o("el-form",{ref:"MISmobileForm",staticClass:"demo-ruleForm",attrs:{model:e.MISmobileForm,rules:e.MISmobileRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"工号",prop:"employeeCode"}},[o("el-input",{model:{value:e.MISmobileForm.employeeCode,callback:function(t){e.$set(e.MISmobileForm,"employeeCode",t)},expression:"MISmobileForm.employeeCode"}})],1),o("el-form-item",{attrs:{label:"姓名",prop:"employeeName"}},[o("el-input",{model:{value:e.MISmobileForm.employeeName,callback:function(t){e.$set(e.MISmobileForm,"employeeName",t)},expression:"MISmobileForm.employeeName"}})],1),o("el-form-item",{attrs:{label:"所属厂",prop:"area"}},[o("el-input",{attrs:{list:"area"},model:{value:e.MISmobileForm.area,callback:function(t){e.$set(e.MISmobileForm,"area",t)},expression:"MISmobileForm.area"}}),o("datalist",{attrs:{id:"area"}},e._l(e.areaOption,(function(t,r){return o("option",{key:r},[e._v(e._s(t))])})),0)],1),o("el-form-item",{attrs:{label:"部门",prop:"Department"}},[o("el-input",{attrs:{list:"dept"},model:{value:e.MISmobileForm.Department,callback:function(t){e.$set(e.MISmobileForm,"Department",t)},expression:"MISmobileForm.Department"}}),o("datalist",{attrs:{id:"dept"}},e._l(e.deptOption,(function(t,r){return o("option",{key:r},[e._v(e._s(t))])})),0)],1),o("el-form-item",{attrs:{label:"长号",prop:"issuePhoneNum"}},[o("el-input",{model:{value:e.MISmobileForm.issuePhoneNum,callback:function(t){e.$set(e.MISmobileForm,"issuePhoneNum",t)},expression:"MISmobileForm.issuePhoneNum"}})],1),o("el-form-item",{attrs:{label:"短号",prop:"issuePhoneSort"}},[o("el-input",{model:{value:e.MISmobileForm.issuePhoneSort,callback:function(t){e.$set(e.MISmobileForm,"issuePhoneSort",t)},expression:"MISmobileForm.issuePhoneSort"}})],1),o("el-form-item",{attrs:{label:"状态",prop:"isReturn"}},[o("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.MISmobileForm.isReturn,callback:function(t){e.$set(e.MISmobileForm,"isReturn",t)},expression:"MISmobileForm.isReturn"}},[o("el-option",{attrs:{label:"已发出",value:"已发出"}}),o("el-option",{attrs:{label:"已退回",value:"已退回"}}),o("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),o("el-form-item",{attrs:{label:"备注",prop:"remark"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.MISmobileForm.remark,callback:function(t){e.$set(e.MISmobileForm,"remark",t)},expression:"MISmobileForm.remark"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v(e._s(e.subBtnName))]),"default"==e.parent?o("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")]):e._e()],1)],1)],1)},n=[],a=o("d359"),i=o("a935"),l=o("5c96"),m={name:"MobileForm",components:{},props:{mobileData:{type:Object,default:function(){return{employeeCode:"",employeeName:"",area:"",Department:"",issuePhoneNum:"",issuePhoneSort:"",isReturn:"",remark:""}}},parent:{type:String,default:function(){return"default"}}},data:function(){return{MISmobileForm:this.mobileData,MISmobileRules:{employeeCode:[{required:!0,message:"请输入工号",trigger:"blur"}],employeeName:[{required:!0,message:"请输入姓名",trigger:"blur"}],area:[{required:!0,message:"请输入所属厂",trigger:"blur"}],issuePhoneNum:[{required:!0,message:"请输入长号",trigger:"blur"}],issuePhoneSort:[{required:!0,message:"请输入短号",trigger:"blur"}],isReturn:[{required:!0,message:"请选择状态",trigger:"blur"}]},areaOption:[],deptOption:[]}},computed:{subBtnName:function(){return"MISreads"===this.parent?"立即修改":"立即创建"}},watch:{mobileData:function(e){this.MISmobileForm=e}},created:function(){this.getAreaOption(),this.getDeptOption()},mounted:function(){},methods:{submitForm:function(e){var t=this;this.$refs.MISmobileForm.validate((function(e){if(!e)return!1;"MISreads"===t.parent?t.updateMISmobileForm(t.MISmobileForm):t.addMISmobileForm(t.MISmobileForm)}))},resetForm:function(){this.$refs.MISmobileForm.resetFields()},getAreaOption:function(e){var t=this;Object(a["getAreaOption"])(e).then((function(e){t.areaOption=e.data}))},getDeptOption:function(e){var t=this;Object(a["getDeptOption"])(e).then((function(e){t.deptOption=e.data}))},addMISmobileForm:function(e){var t=this;Object(i["addMISmobileForm"])(e).then((function(e){200===e.code&&(Object(l["Message"])({message:e.msg,type:"success",duration:3e3}),t.resetForm())}))},updateMISmobileForm:function(e){var t=this;Object(i["updateMISmobileForm"])(e).then((function(e){200===e.code&&(Object(l["Message"])({message:e.msg,type:"success",duration:3e3}),t.$emit("closedialog",""),t.$emit("RefreshTable",""))}))}}},u=m,s=(o("e59c"),o("2877")),c=Object(s["a"])(u,r,n,!1,null,"35b8eec4",null);t["default"]=c.exports},d359:function(e,t,o){"use strict";o.r(t),o.d(t,"getEmpData",(function(){return n})),o.d(t,"getFilesData",(function(){return a})),o.d(t,"openFilesUrl",(function(){return i})),o.d(t,"getPhonesData",(function(){return l})),o.d(t,"getAreaOption",(function(){return m})),o.d(t,"getDeptOption",(function(){return u}));var r=o("b775");function n(e){return Object(r["default"])({url:"/MIS/getEmpData",method:"post",data:e})}function a(e){return Object(r["default"])({url:"/MIS/getFilesData",method:"post",data:e})}function i(e){return Object(r["default"])({url:"/MIS/openFilesUrl",method:"post",data:e})}function l(e){return Object(r["default"])({url:"/MIS/getPhonesData",method:"post",data:e})}function m(e){return Object(r["default"])({url:"/MIS/getAreaOption",method:"post",data:e})}function u(e){return Object(r["default"])({url:"/MIS/getDeptOption",method:"post",data:e})}},e59c:function(e,t,o){"use strict";var r=o("5001"),n=o.n(r);n.a}}]);