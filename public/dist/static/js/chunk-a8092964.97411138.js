/*!
 *  基于vue构建  
 *  copyright: wangxinleo wangxin.leo@outlook.com 
 *  time: 2020-6-12 11:14:32
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8092964"],{1276:function(e,t,a){"use strict";var n=a("d784"),o=a("44e7"),l=a("825a"),r=a("1d80"),i=a("4840"),s=a("8aa5"),u=a("50c4"),p=a("14c3"),c=a("9263"),m=a("d039"),d=[].push,b=Math.min,f=4294967295,h=!m((function(){return!RegExp(f,"y")}));n("split",2,(function(e,t,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var n=String(r(this)),l=void 0===a?f:a>>>0;if(0===l)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,l);var i,s,u,p=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),b=0,h=new RegExp(e.source,m+"g");while(i=c.call(h,n)){if(s=h.lastIndex,s>b&&(p.push(n.slice(b,i.index)),i.length>1&&i.index<n.length&&d.apply(p,i.slice(1)),u=i[0].length,b=s,p.length>=l))break;h.lastIndex===i.index&&h.lastIndex++}return b===n.length?!u&&h.test("")||p.push(""):p.push(n.slice(b)),p.length>l?p.slice(0,l):p}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var o=r(this),l=void 0==t?void 0:t[e];return void 0!==l?l.call(t,o,a):n.call(String(o),t,a)},function(e,o){var r=a(n,e,this,o,n!==t);if(r.done)return r.value;var c=l(e),m=String(this),d=i(c,RegExp),g=c.unicode,S=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),D=new d(h?c:"^(?:"+c.source+")",S),I=void 0===o?f:o>>>0;if(0===I)return[];if(0===m.length)return null===p(D,m)?[m]:[];var M=0,v=0,w=[];while(v<m.length){D.lastIndex=h?v:0;var F,_=p(D,h?m:m.slice(v));if(null===_||(F=b(u(D.lastIndex+(h?0:v)),m.length))===M)v=s(m,v,g);else{if(w.push(m.slice(M,v)),w.length===I)return w;for(var x=1;x<=_.length-1;x++)if(w.push(_[x]),w.length===I)return w;v=M=F}}return w.push(m.slice(M)),w}]}),!h)},5001:function(e,t,a){},"5fb0":function(e,t,a){},a935:function(e,t,a){"use strict";a.r(t),a.d(t,"addMISmobileForm",(function(){return o})),a.d(t,"updateMISmobileForm",(function(){return l})),a.d(t,"deletePhonesData",(function(){return r}));var n=a("b775");function o(e){return Object(n["default"])({url:"/MIS/addMISmobileForm",method:"post",data:e})}function l(e){return Object(n["default"])({url:"/MIS/updateMISmobileForm",method:"post",data:e})}function r(e){return Object(n["default"])({url:"/MIS/deletePhonesData",method:"post",data:{id:e}})}},c183:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mobileForm"},[a("el-form",{ref:"MISmobileForm",staticClass:"demo-ruleForm",attrs:{model:e.MISmobileForm,rules:e.MISmobileRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"工号",prop:"employeeCode"}},[a("el-input",{model:{value:e.MISmobileForm.employeeCode,callback:function(t){e.$set(e.MISmobileForm,"employeeCode",t)},expression:"MISmobileForm.employeeCode"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"employeeName"}},[a("el-input",{model:{value:e.MISmobileForm.employeeName,callback:function(t){e.$set(e.MISmobileForm,"employeeName",t)},expression:"MISmobileForm.employeeName"}})],1),a("el-form-item",{attrs:{label:"所属厂",prop:"area"}},[a("el-input",{attrs:{list:"area"},model:{value:e.MISmobileForm.area,callback:function(t){e.$set(e.MISmobileForm,"area",t)},expression:"MISmobileForm.area"}}),a("datalist",{attrs:{id:"area"}},e._l(e.areaOption,(function(t,n){return a("option",{key:n},[e._v(e._s(t))])})),0)],1),a("el-form-item",{attrs:{label:"部门",prop:"Department"}},[a("el-input",{attrs:{list:"dept"},model:{value:e.MISmobileForm.Department,callback:function(t){e.$set(e.MISmobileForm,"Department",t)},expression:"MISmobileForm.Department"}}),a("datalist",{attrs:{id:"dept"}},e._l(e.deptOption,(function(t,n){return a("option",{key:n},[e._v(e._s(t))])})),0)],1),a("el-form-item",{attrs:{label:"长号",prop:"issuePhoneNum"}},[a("el-input",{model:{value:e.MISmobileForm.issuePhoneNum,callback:function(t){e.$set(e.MISmobileForm,"issuePhoneNum",t)},expression:"MISmobileForm.issuePhoneNum"}})],1),a("el-form-item",{attrs:{label:"短号",prop:"issuePhoneSort"}},[a("el-input",{model:{value:e.MISmobileForm.issuePhoneSort,callback:function(t){e.$set(e.MISmobileForm,"issuePhoneSort",t)},expression:"MISmobileForm.issuePhoneSort"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"isReturn"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.MISmobileForm.isReturn,callback:function(t){e.$set(e.MISmobileForm,"isReturn",t)},expression:"MISmobileForm.isReturn"}},[a("el-option",{attrs:{label:"已发出",value:"已发出"}}),a("el-option",{attrs:{label:"已退回",value:"已退回"}}),a("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.MISmobileForm.remark,callback:function(t){e.$set(e.MISmobileForm,"remark",t)},expression:"MISmobileForm.remark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v(e._s(e.subBtnName))]),"default"==e.parent?a("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")]):e._e()],1)],1)],1)},o=[],l=a("d359"),r=a("a935"),i=a("5c96"),s={name:"MobileForm",components:{},props:{mobileData:{type:Object,default:function(){return{employeeCode:"",employeeName:"",area:"",Department:"",issuePhoneNum:"",issuePhoneSort:"",isReturn:"",remark:""}}},parent:{type:String,default:function(){return"default"}}},data:function(){return{MISmobileForm:this.mobileData,MISmobileRules:{employeeCode:[{required:!0,message:"请输入工号",trigger:"blur"}],employeeName:[{required:!0,message:"请输入姓名",trigger:"blur"}],area:[{required:!0,message:"请输入所属厂",trigger:"blur"}],issuePhoneNum:[{required:!0,message:"请输入长号",trigger:"blur"}],issuePhoneSort:[{required:!0,message:"请输入短号",trigger:"blur"}],isReturn:[{required:!0,message:"请选择状态",trigger:"blur"}]},areaOption:[],deptOption:[]}},computed:{subBtnName:function(){return"MISreads"===this.parent?"立即修改":"立即创建"}},watch:{mobileData:function(e){this.MISmobileForm=e}},created:function(){this.getAreaOption(),this.getDeptOption()},mounted:function(){},methods:{submitForm:function(e){var t=this;this.$refs.MISmobileForm.validate((function(e){if(!e)return!1;"MISreads"===t.parent?t.updateMISmobileForm(t.MISmobileForm):t.addMISmobileForm(t.MISmobileForm)}))},resetForm:function(){this.$refs.MISmobileForm.resetFields()},getAreaOption:function(e){var t=this;Object(l["getAreaOption"])(e).then((function(e){t.areaOption=e.data}))},getDeptOption:function(e){var t=this;Object(l["getDeptOption"])(e).then((function(e){t.deptOption=e.data}))},addMISmobileForm:function(e){var t=this;Object(r["addMISmobileForm"])(e).then((function(e){200===e.code&&(Object(i["Message"])({message:e.msg,type:"success",duration:3e3}),t.resetForm())}))},updateMISmobileForm:function(e){var t=this;Object(r["updateMISmobileForm"])(e).then((function(e){200===e.code&&(Object(i["Message"])({message:e.msg,type:"success",duration:3e3}),t.$emit("closedialog",""),t.$emit("RefreshTable",""))}))}}},u=s,p=(a("e59c"),a("2877")),c=Object(p["a"])(u,n,o,!1,null,"35b8eec4",null);t["default"]=c.exports},d309:function(e,t,a){"use strict";(function(e){a("ac1f"),a("1276");var n=a("d359"),o=a("a935"),l=a("2ef0"),r=a.n(l),i=a("c183");t["a"]={name:"Misreads",components:{mobileForm:i["default"]},data:function(){return{MISReadsForm:{empText:"",page:1,pageSize:100},MISReadsFormRules:{empText:[{required:!0,message:"请输入员工信息",trigger:"blur"}]},OAMISData:[],filesData:[],phonesData:[],total:{OAMISData:0,filesData:0,phonesData:0},loading:{OAMISData:!1,filesData:!1,phonesData:!1},fileVisible:!1,fileUrl:"",updatePhoneVisible:!1,updataPhoneData:{}}},created:function(){},mounted:function(){},methods:{updatePhoneClose:function(){this.updataPhoneData={},this.updatePhoneVisible=!1},updatePhoneRow:function(e){this.updatePhoneVisible=!0;var t=r.a.cloneDeep(e);this.updataPhoneData=t},deletePhoneRow:function(e){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deletePhonesData(e.id)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},phonesDataSizeChange:function(e){this.getPhonesData({empText:this.phonesData.searchHistroy,page:this.phonesData.page,pageSize:e})},phonesDataCurrentChange:function(e){this.getPhonesData({empText:this.phonesData.searchHistroy,page:e,pageSize:this.phonesData.pageSize})},OAMISDataSizeChange:function(e){this.getEmpData({empText:this.OAMISData.searchHistroy,page:this.OAMISData.page,pageSize:e})},OAMISDataCurrentChange:function(e){this.getEmpData({empText:this.OAMISData.searchHistroy,page:e,pageSize:this.OAMISData.pageSize})},dumpOAdoc:function(e){var t="http://172.18.8.20/bpm/linkey_workflow_engine.nsf/workflow_doc?readform&WF_ProcessUNID="+e.WF_ProcessUNID+"&WF_DocUNID="+e.WF_DocUNID+"&WF_DocAction=read";window.open(t)},dumpFile:function(e){this.fileVisible=!0,console.log(e),this.openFilesUrl(e)},fileClose:function(){this.fileVisible=!1,this.fileUrl=""},clearEmpText:function(){this.$refs.MISReadsForm.resetFields()},submitEmpText:function(){var e=this;this.$refs.MISReadsForm.validate((function(t){if(!t)return!1;var a=e.returnSearchData();e.loading.OAMISData=!0,e.loading.filesData=!0,e.loading.phonesData=!0,e.getEmpData(a),e.getFilesData(a),e.getPhonesData(a)}))},newTips:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("delete"===a)e("#"+t+' [class="newTip"]').remove();else if(0==e("#"+t+' [class="newTip"]').length){var n=document.getElementById(t).innerHTML;document.getElementById(t).innerHTML=n+"<span class='newTip' style='color:red'>*</span>"}},returnSearchData:function(e){var t=r.a.cloneDeep(this.MISReadsForm);return t.empText=t.empText.split("\n"),e&&(t.page=e.page,t.pageSize=e.pageSize),t},refreshTable:function(e){var t=this.returnSearchData(e);this.getPhonesData(t)},getEmpData:function(e){var t=this;Object(n["getEmpData"])(e).then((function(e){1==e.page&&(t.total.OAMISData=e.totalCount),t.newTips("tab-0"),t.OAMISData=e,t.loading.OAMISData=!1})).catch((function(e){t.newTips("tab-0","delete"),t.loading.OAMISData=!1,t.OAMISData=""}))},getFilesData:function(e){var t=this;Object(n["getFilesData"])(e).then((function(e){t.newTips("tab-1"),t.filesData=e})).catch((function(e){t.newTips("tab-1","delete"),t.loading.filesData=!1,t.filesData=""}))},openFilesUrl:function(e){var t=this;Object(n["openFilesUrl"])(e).then((function(e){t.fileUrl=e.data}))},getPhonesData:function(e){var t=this;Object(n["getPhonesData"])(e).then((function(e){1==e.page&&(t.total.phonesData=e.totalCount),t.newTips("tab-2"),t.phonesData=e})).catch((function(e){t.newTips("tab-2","delete"),t.loading.phonesData=!1,t.phonesData=""}))},deletePhonesData:function(e){var t=this;Object(o["deletePhonesData"])(e).then((function(e){200===e.code&&(t.$message.success(e.msg),t.refreshTable(t.phonesData))}))}}}}).call(this,a("1157"))},d359:function(e,t,a){"use strict";a.r(t),a.d(t,"getEmpData",(function(){return o})),a.d(t,"getFilesData",(function(){return l})),a.d(t,"openFilesUrl",(function(){return r})),a.d(t,"getPhonesData",(function(){return i})),a.d(t,"getAreaOption",(function(){return s})),a.d(t,"getDeptOption",(function(){return u}));var n=a("b775");function o(e){return Object(n["default"])({url:"/MIS/getEmpData",method:"post",data:e})}function l(e){return Object(n["default"])({url:"/MIS/getFilesData",method:"post",data:e})}function r(e){return Object(n["default"])({url:"/MIS/openFilesUrl",method:"post",data:e})}function i(e){return Object(n["default"])({url:"/MIS/getPhonesData",method:"post",data:e})}function s(e){return Object(n["default"])({url:"/MIS/getAreaOption",method:"post",data:e})}function u(e){return Object(n["default"])({url:"/MIS/getDeptOption",method:"post",data:e})}},d7ac:function(e,t,a){"use strict";var n=a("5fb0"),o=a.n(n);o.a},e59c:function(e,t,a){"use strict";var n=a("5001"),o=a.n(n);o.a},f19e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"MISreads-container"},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{xs:24,sm:24,md:8,lg:6,xl:4}},[a("el-card",[a("el-form",{ref:"MISReadsForm",attrs:{model:e.MISReadsForm,rules:e.MISReadsFormRules,"label-width":"100px","label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:9}},[a("el-button",{attrs:{icon:"el-icon-delete-solid",type:"danger"},on:{click:function(t){return e.clearEmpText()}}},[e._v("清空")])],1),a("el-col",{attrs:{span:9}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.submitEmpText()}}},[e._v("查询")])],1)],1)],1),a("el-form-item",{attrs:{label:"请填入员工信息",prop:"empText"}},[a("el-input",{attrs:{id:"empText",type:"textarea"},model:{value:e.MISReadsForm.empText,callback:function(t){e.$set(e.MISReadsForm,"empText",t)},expression:"MISReadsForm.empText"}})],1)],1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:16,lg:18,xl:20}},[a("el-card",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"OA权限申请记录"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.OAMISData,expression:"loading.OAMISData"}],staticStyle:{width:"100%"},attrs:{data:e.OAMISData.data,border:"",stripe:"",height:"560"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"150px"}},[a("el-form-item",{attrs:{label:"所任职务"}},[a("span",[e._v(e._s(t.row.XmlData.text_zw))])]),a("el-form-item",{attrs:{label:"联系电话"}},[a("span",[e._v(e._s(t.row.XmlData.text_lxdh))])]),a("el-form-item",{attrs:{label:"姓名全拼"}},[a("span",[e._v(e._s(t.row.XmlData.text_xmqp))])]),a("el-form-item",{attrs:{label:"登记的邮箱密码"}},[a("span",[e._v(e._s(t.row.XmlData.text_mm))])]),a("el-form-item",{attrs:{label:"OA单号"}},[a("span",[a("a",{on:{click:function(a){return e.dumpOAdoc(t.row)}}},[e._v(e._s(t.row.WF_DocNumber))])])])],1)]}}])}),a("el-table-column",{attrs:{type:"index",label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.OAMISData.page-1)*e.OAMISData.pageSize+t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"XmlData.text_gh",label:"工号",width:"100"}}),a("el-table-column",{attrs:{prop:"XmlData.text_xm",label:"姓名",width:"100"}}),a("el-table-column",{attrs:{prop:"XmlData.text_bm",label:"部门",width:"150"}}),a("el-table-column",{attrs:{prop:"XmlData.text_jsjmc",label:"电脑编号",width:"150"}}),a("el-table-column",{attrs:{prop:"powers",label:"权限",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return["内邮Mail权限"===t.row.XmlData.sqlb_nb?a("el-tag",[e._v("内邮")]):e._e(),"Internet权限"===t.row.XmlData.sqlb_i?a("el-tag",{attrs:{type:"danger"}},[e._v("外网")]):e._e(),"外部Mail权限"===t.row.XmlData.sqlb_wb?a("el-tag",{attrs:{type:"info"}},[e._v("外邮")]):e._e(),"微信"===t.row.XmlData.sqlb_wx||-1!==String(t.row.XmlData.text_qt).indexOf("微信")?a("el-tag",{attrs:{type:"success"}},[e._v("微信")]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"XmlData.text_qt",label:"其他说明"}}),a("el-table-column",{attrs:{prop:"WF_DocCreated",label:"申请时间",width:"150"}})],1),a("el-pagination",{attrs:{"current-page":e.OAMISData.page,"page-sizes":[10,20,50,100],"page-size":e.OAMISData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total.OAMISData},on:{"size-change":e.OAMISDataSizeChange,"current-change":e.OAMISDataCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"纸质档案记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filesData.data,border:"",stripe:"",height:"560"}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"path",label:"匹配记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{on:{click:function(a){return e.dumpFile(t.row)}}},[e._v(e._s(t.row.name))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"功能机领取记录"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.phonesData.data,border:"",stripe:"",height:"560"}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"employeeCode",label:"工号",width:"100"}}),a("el-table-column",{attrs:{prop:"employeeName",label:"姓名",width:"100"}}),a("el-table-column",{attrs:{prop:"area",label:"所属厂",width:"100"}}),a("el-table-column",{attrs:{prop:"Department",label:"部门",width:"150"}}),a("el-table-column",{attrs:{prop:"issuePhoneNum",label:"长号",width:"150"}}),a("el-table-column",{attrs:{prop:"issuePhoneSort",label:"短号",width:"100"}}),a("el-table-column",{attrs:{prop:"isReturn",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["已发出"===t.row.isReturn?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.isReturn))]):e._e(),"已退回"===t.row.isReturn?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.isReturn))]):e._e(),"其他"===t.row.isReturn?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(t.row.isReturn))]):e._e()]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.updatePhoneRow(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete-solid",size:"mini"},on:{click:function(a){return e.deletePhoneRow(t.row)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.phonesData.page,"page-sizes":[10,20,50,100],"page-size":e.phonesData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total.phonesData},on:{"size-change":e.phonesDataSizeChange,"current-change":e.phonesDataCurrentChange}})],1),a("el-tab-pane",{attrs:{disabled:"",label:"电脑档案记录"}},[e._v("电脑档案记录")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"文件预览",visible:e.fileVisible,"before-close":e.fileClose,width:"80%"},on:{"update:visible":function(t){e.fileVisible=t}}},[a("div",[a("img",{attrs:{src:e.fileUrl}})])]),a("el-dialog",{attrs:{title:"修改功能机记录",visible:e.updatePhoneVisible,"before-close":e.updatePhoneClose,width:"30%"},on:{"update:visible":function(t){e.updatePhoneVisible=t}}},[a("div",[a("mobile-form",{ref:"mobileForm",attrs:{"mobile-data":e.updataPhoneData,parent:"MISreads"},on:{closedialog:e.updatePhoneClose,RefreshTable:function(t){return e.refreshTable(e.phonesData)}}})],1)])],1)},o=[],l=a("d309"),r=l["a"],i=(a("d7ac"),a("2877")),s=Object(i["a"])(r,n,o,!1,null,"787a622c",null);t["default"]=s.exports}}]);